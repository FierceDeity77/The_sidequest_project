{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block page_title %} List of Games {% endblock %}


{% block content %}
<section class="game-list-section my-4">
  
  <!-- Heading + Add Game Button -->
   {% if request.user.is_authenticated %}
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0">Top Games</h2>
    <button class="btn btn-sm add-game-btn" data-bs-toggle="modal" data-bs-target="#addGameModal">
      + Add Game
    </button>
  </div>
  {% endif %}

  <!-- Game List -->
  <ol class="list-unstyled">
    {% for game in games %}
      {% include "content/includes/game_item.html" %} {# for ajax #}
    {% empty %}
      <p class="text-muted">No games yet.</p>
    {% endfor %}
  </ol>
</section>
<!-- Pagination Controls -->
  {% include "includes/pagination.html" with page_obj=games page_param="games_page" %}

{% include "content/add_game_modal.html" %}
{% endblock %}
